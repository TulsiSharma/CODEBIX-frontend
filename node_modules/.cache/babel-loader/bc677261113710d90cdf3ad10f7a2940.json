{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\Internship Project\\\\codebix\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\Internship Project\\\\codebix\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"E:\\\\Internship Project\\\\codebix\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"E:\\\\Internship Project\\\\codebix\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\Internship Project\\\\codebix\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _assertThisInitialized from\"E:\\\\Internship Project\\\\codebix\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"E:\\\\Internship Project\\\\codebix\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"E:\\\\Internship Project\\\\codebix\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from\"react\";import NavBar from\"./NavBar\";import{Row}from'reactstrap';import Leftcomponent from\"./Leftcomponent\";import Footer from\"./Footer\";import Rightcomponent from\"./Rightcomponent\";import base from\"./base\";import firebase from\"firebase\";import Authanticate from\"./Authanticate\";import{c,cpp,python2,python3,Java,NodeJS,Ruby,cpp14,csharp}from\"../data\";import Axios from\"axios\";import About from\"./About\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={editor:{},isopen:false,savefiles:{},mode:\"none\",dropdownvalue:\"\",issaved:false,filename:\"\",status:\"\",id:null,recent:{},val:{},length:-9999999999,uid:null,owner:null,signup:false,fontsize:14,tabsize:4,theme:\"blackboard\",oldvalue:null,inputdata:\"\",isoutput:false,output:null,about:false};_this.setoldvalue=function(val){_this.setState({oldvalue:val});};_this.previoussetting=function(){var res=localStorage.getItem(\"CodeBix\");var val=JSON.parse(res);if(val&&val.mode&&val.fontsize){_this.state.editor.getWrapperElement().style[\"font-size\"]=parseInt(val.fontsize)+\"px\";_this.state.editor.refresh();_this.setmode(val.mode);switch(val.mode){case\"C++\":_this.state.editor.setOption(\"mode\",\"text/x-c++src\");_this.state.editor.setValue(cpp);_this.setlength(_this.state.editor.getValue().length);break;case\"C\":_this.state.editor.setOption(\"mode\",\"text/x-csrc\");_this.state.editor.setValue(c);_this.setlength(_this.state.editor.getValue().length);break;case\"C++ 14\":_this.state.editor.setOption(\"mode\",\"text/x-c++src\");_this.state.editor.setValue(cpp14);_this.setlength(_this.state.editor.getValue().length);break;case\"Python 2\":_this.state.editor.setOption(\"mode\",\"text/x-python\");_this.state.editor.setOption(\"version\",2);_this.state.editor.setValue(python2);_this.setlength(_this.state.editor.getValue().length);break;case\"Python 3\":_this.state.editor.setOption(\"mode\",\"text/x-python\");_this.state.editor.setOption(\"version\",3);_this.state.editor.setValue(python3);_this.setlength(_this.state.editor.getValue().length);break;case\"Java\":_this.state.editor.setOption(\"mode\",\"text/x-java\");_this.state.editor.setValue(Java);_this.setlength(_this.state.editor.getValue().length);break;case\"C#\":_this.state.editor.setOption(\"mode\",\"text/x-csharp\");_this.state.editor.setValue(csharp);_this.setlength(_this.state.editor.getValue().length);break;case\"NodeJS\":_this.state.editor.setOption(\"mode\",\"text/javascript\");_this.state.editor.setValue(NodeJS);_this.setlength(_this.state.editor.getValue().length);break;case\"Ruby\":_this.state.editor.setOption(\"mode\",\"text/x-ruby\");_this.state.editor.setValue(Ruby);_this.setlength(_this.state.editor.getValue().length);break;default:break;}_this.setoldvalue(val.mode);_this.state.editor.setOption(\"indentUnit\",parseInt(val.tabsize));_this.state.editor.setOption(\"theme\",val.theme);}};_this.setsignup=function(){_this.setState({signup:!_this.state.signup});};_this.savedlastfile=function(){var len=Object.keys(_this.state.recent).length;if(len<5){var id=null;var data={};if(!_this.state.issaved){var file={name:\"Unknown\",content:_this.state.editor.getValue(),mode:_this.state.dropdownvalue,status:\"Unsaved\"};id=Date.now();data=file;}else{id=_this.state.id;data=_this.state.savefiles[_this.state.id];}var recent=_objectSpread({},_this.state.recent);recent[id]=data;var final={mode:\"\",fontsize:\"\",recent:recent};localStorage.setItem(\"CodeBix\",JSON.stringify(final));_this.setState({recent:recent});}else{var index=Object.keys(_this.state.recent)[0];var _recent=_objectSpread({},_this.state.recent);delete _recent[index];var _id=null;var _data={};if(!_this.state.issaved){var _file={name:\"Unknown\",content:_this.state.editor.getValue(),mode:_this.state.dropdownvalue,status:\"Unsaved\"};_id=Date.now();_data=_file;}else{_id=_this.state.id;_data=_this.state.savefiles[_this.state.id];}_recent[_id]=_data;var _final={mode:\"\",fontsize:\"\",recent:_recent};localStorage.setItem(\"CodeBix\",JSON.stringify(_final));_this.setState({recent:_recent});}};_this.updaterecent=function(){var len=Object.keys(_this.state.recent).length;if(len<5){var id=null;var data={};if(!_this.state.issaved){var file={name:\"Unknown\",content:_this.state.editor.getValue(),mode:_this.state.dropdownvalue,status:\"Unsaved\"};if(_this.state.id)id=_this.state.id;else id=Date.now();data=file;}else{id=_this.state.id;data=_this.state.savefiles[_this.state.id];}var recent=_objectSpread({},_this.state.recent);recent[id]=data;_this.setState({recent:recent});}else{var index=Object.keys(_this.state.recent)[0];var _recent2=_objectSpread({},_this.state.recent);delete _recent2[index];var _id2=null;var _data2={};if(!_this.state.issaved){var _file2={name:\"Unknown\",content:_this.state.editor.getValue(),mode:_this.state.dropdownvalue,status:\"Unsaved\"};if(_this.state.id)_id2=_this.state.id;else _id2=Date.now();_data2=_file2;}else{_id2=_this.state.id;_data2=_this.state.savefiles[_this.state.id];}_recent2[_id2]=_data2;_this.setState({recent:_recent2});}};_this.setid=function(val){_this.setState({id:val});};_this.setdropdown=function(val){_this.setState({dropdownvalue:val});};_this.setsaved=function(){_this.setState({issaved:!_this.state.issaved});};_this.setunsaved=function(){_this.setState({issaved:false});};_this.updateeditor=function(id,data){if(id&&data){_this.state.editor.setValue(\"Loading.....\");// this.setid(id);\n// this.setsaved();\n_this.setdropdown(data.mode);_this.state.editor.setValue(data.content);_this.setmode(data.mode);switch(data.mode){case\"C++\":_this.state.editor.setOption(\"mode\",\"text/x-c++src\");break;case\"C\":_this.state.editor.setOption(\"mode\",\"text/x-csrc\");break;case\"C++ 14\":_this.state.editor.setOption(\"mode\",\"text/x-c++src\");break;case\"Python 2\":_this.state.editor.setOption(\"mode\",\"text/x-python\");_this.props.editor.setOption(\"version\",2);break;case\"Python 3\":_this.state.editor.setOption(\"mode\",\"text/x-python\");_this.props.editor.setOption(\"version\",3);break;case\"Java\":_this.state.editor.setOption(\"mode\",\"text/x-java\");break;case\"C#\":_this.state.editor.setOption(\"mode\",\"text/x-csharp\");break;case\"NodeJS\":_this.state.editor.setOption(\"mode\",\"text/javascript\");break;case\"Ruby\":_this.state.editor.setOption(\"mode\",\"text/x-ruby\");break;default:break;}_this.setState({length:_this.state.editor.getValue().length});}};_this.updatevalue=function(key,val){var savefiles=_objectSpread({},_this.state.savefiles);savefiles[key]=val;_this.setState({savefiles:savefiles});};_this.setmode=function(val){_this.setState({mode:val});};_this.savefile=function(val){_this.setState({issaved:true});_this.setstatus(\"Saving...\");var data={name:val,content:_this.state.editor.getValue(),status:\"saved\",mode:_this.state.mode};var savefiles=_objectSpread({},_this.state.savefiles);var id=\"\";if(_this.state.id!==null){id=_this.state.id;}else{id=Date.now();_this.setid(id);}savefiles[id]=data;_this.setState({savefiles:savefiles});setTimeout(function(){_this.setstatus(data.name);_this.updaterecent();},1000);_this.state.editor.on('change',function(cm){if(_this.state.dropdownvalue===data.mode){_this.setstatus(\"Saving...\");data.content=cm.getValue();_this.updatevalue(id,data);setTimeout(function(){_this.setstatus(data.name);},1000);}});};_this.seteditor=function(val){_this.setState({editor:val});};_this.settheme=function(val){_this.setState({theme:val});_this.state.editor.setOption(\"theme\",val);};_this.settab=function(val){_this.setState({tabsize:val});_this.state.editor.setOption(\"indentUnit\",val);};_this.setsize=function(val){_this.setState({fontsize:val});_this.state.editor.getWrapperElement().style[\"font-size\"]=val+\"px\";_this.state.editor.refresh();};_this.toggle=function(){_this.setState({isopen:!_this.state.isopen});};_this.setstatus=function(val){// console.log(val);\n_this.setState({status:val});};_this.setlength=function(len){_this.setState({length:len});};_this.authenticate=function(provider){var authprovider=new firebase.auth[\"\".concat(provider,\"AuthProvider\")]();firebase.auth().signInWithPopup(authprovider).then(_this.authHandler);_this.setsignup();};_this.authHandler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(authdata){var store;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return base.fetch(authdata.user.uid,{context:_assertThisInitialized(_this)});case 2:store=_context.sent;if(store.user){_context.next=6;break;}_context.next=6;return base.post(\"\".concat(authdata.user.uid,\"/user\"),{data:authdata.user.uid});case 6://set the state of the inventory compnent.\n_this.setState({uid:authdata.user.uid,owner:store.user||authdata.user.uid});_this.ref=base.syncState(\"\".concat(authdata.user.uid,\"/savefiles\"),{context:_assertThisInitialized(_this),state:'savefiles'});case 8:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.logout=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return firebase.auth().signOut();case 2:_this.setState({uid:null});case 3:case\"end\":return _context2.stop();}}},_callee2);}));_this.editrecent=function(val,ind){_this.setState({issaved:false});if(val.status===\"saved\"){_this.setsaved();_this.setstatus(val.name);}_this.setoldvalue(val.mode);_this.setid(ind);_this.setdropdown(val.mode);_this.setmode(val.mode);switch(val.mode){case\"C++\":_this.state.editor.setOption(\"mode\",\"text/x-c++src\");break;case\"C\":_this.state.editor.setOption(\"mode\",\"text/x-csrc\");break;case\"C++ 14\":_this.state.editor.setOption(\"mode\",\"text/x-c++src\");break;case\"Python 2\":_this.state.editor.setOption(\"mode\",\"text/x-python\");break;case\"Python 3\":_this.state.editor.setOption(\"mode\",\"text/x-python\");break;case\"Java\":_this.state.editor.setOption(\"mode\",\"text/x-java\");break;case\"C#\":_this.state.editor.setOption(\"mode\",\"text/x-csharp\");break;case\"NodeJS\":_this.state.editor.setOption(\"mode\",\"text/javascript\");break;case\"Ruby\":_this.state.editor.setOption(\"mode\",\"text/x-ruby\");break;default:break;}_this.setState({filename:val.name});_this.state.editor.setValue(val.content);_this.setlength(val.content.length);_this.state.editor.on('change',function(cm){if(_this.state.dropdownvalue===val.mode&&val.status===\"saved\"){val.content=cm.getValue();_this.updatevalue(ind,val);}});};_this.Exicutecode=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var lang,val,response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:lang=\"\";_context3.t0=_this.state.mode;_context3.next=_context3.t0===\"C++\"?4:_context3.t0===\"C\"?6:_context3.t0===\"C++ 14\"?8:_context3.t0===\"Python 2\"?10:_context3.t0===\"Python 3\"?12:_context3.t0===\"Java\"?14:_context3.t0===\"C#\"?16:_context3.t0===\"NodeJS\"?18:_context3.t0===\"Ruby\"?20:22;break;case 4:lang=\"cpp\";return _context3.abrupt(\"break\",24);case 6:lang=\"c\";return _context3.abrupt(\"break\",24);case 8:lang=\"cpp14\";return _context3.abrupt(\"break\",24);case 10:lang=\"python2\";return _context3.abrupt(\"break\",24);case 12:lang=\"python3\";return _context3.abrupt(\"break\",24);case 14:lang=\"java\";return _context3.abrupt(\"break\",24);case 16:lang=\"csharp\";return _context3.abrupt(\"break\",24);case 18:lang=\"nodejs\";return _context3.abrupt(\"break\",24);case 20:lang=\"ruby\";return _context3.abrupt(\"break\",24);case 22:lang=_this.state.mode;return _context3.abrupt(\"break\",24);case 24:_this.showoutput();_this.setState({output:null});val=_this.state.editor.getValue();_context3.next=29;return Axios.post(\"/testAPI\",{clientId:\"15c716c984d70a61518fdca295d635c5\",clientSecret:\"fe6d26f5a7e2423d719a3d7c675ee208016019f26a2737c10e8647112b06debc\",script:val,stdin:_this.state.inputdata,language:lang,versionIndex:0});case 29:response=_context3.sent;if(response.data.statusCode===200){_this.setState({output:response.data});}else{_this.setState({output:\"Some Network Error\"});}case 31:case\"end\":return _context3.stop();}}},_callee3);}));_this.updateinput=function(val){_this.setState({inputdata:val});};_this.showoutput=function(){_this.setState({isoutput:true});};_this.setabout=function(){_this.setState({about:!_this.state.about});};return _this;}_createClass(App,[{key:\"componentWillMount\",value:function componentWillMount(){var _this2=this;firebase.auth().onAuthStateChanged(function(user){if(user){_this2.authHandler({user:user});}});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this3=this;var res=localStorage.getItem(\"CodeBix\");if(res){var val=JSON.parse(res);this.setState({val:val});this.setState({recent:val.recent});this.setState({fontsize:parseInt(val.fontsize)});this.setmode(val.mode);this.setdropdown(val.mode);this.setState({tabsize:parseInt(val.tabsize)});this.setState({theme:val.theme});}var id=this.props.match.params.id;var user=this.props.match.params.user;if(id&&user){base.fetch(\"\".concat(atob(user),\"/savefiles/\").concat(id),{context:this,equalTo:id,then:function then(data){this.updateeditor(id,data);}});setTimeout(function(){_this3.state.editor.setValue(\"Loading....\");},500);}else{setTimeout(function(){_this3.previoussetting();},500);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){if(this.state.length>0&&this.state.length<this.state.editor.getValue().length){this.savedlastfile();}if(this.ref){base.removeBinding(this.ref);}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){var final={mode:this.state.dropdownvalue||\"\",fontsize:this.state.fontsize||\"\",tabsize:this.state.tabsize||\"\",theme:this.state.theme||\"\",recent:this.state.recent};localStorage.setItem(\"CodeBix\",JSON.stringify(final));}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{style:{paddingLeft:\"0px\",paddingRight:\"0px\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"main-wrapper\"},/*#__PURE__*/React.createElement(NavBar,{setabout:this.setabout,logout:this.logout,setsignup:this.setsignup,uid:this.state.uid,owner:this.state.owner,settheme:this.settheme,settab:this.settab,setsize:this.setsize,isopen:this.state.isopen,savefile:this.savefile,toggle:this.toggle,editor:this.state.editor,setdropdown:this.setdropdown,setmode:this.setmode,setunsaved:this.setunsaved}),/*#__PURE__*/React.createElement(Authanticate,{signup:this.state.signup,setsignup:this.setsignup,authenticate:this.authenticate}),/*#__PURE__*/React.createElement(About,{about:this.state.about,setabout:this.setabout}),/*#__PURE__*/React.createElement(\"div\",{className:\"gap\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"\",style:{marginLeft:\"20px\",marginRight:\"20px\"}},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Leftcomponent,{setsignup:this.setsignup,uid:this.state.uid,setid:this.setid,output:this.state.output,isoutput:this.state.isoutput,updateinput:this.updateinput,inputdata:this.state.inputdata,Exicutecode:this.Exicutecode,setoldvalue:this.setoldvalue,oldvalue:this.state.oldvalue,setlength:this.setlength,length:this.state.length,setsaved:this.setsaved,editor:this.state.editor,seteditor:this.seteditor,toggle:this.toggle,setmode:this.setmode,setdropdown:this.setdropdown,dropdownvalue:this.state.dropdownvalue,issaved:this.state.issaved,status:this.state.status,setstatus:this.setstatus,path:this.props.match.url,id:this.state.id,updaterecent:this.updaterecent}),/*#__PURE__*/React.createElement(Rightcomponent,{recent:this.state.recent,editrecent:this.editrecent}))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"container-fluid footer\"},/*#__PURE__*/React.createElement(Footer,null))));}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["E:/Internship Project/codebix/src/components/App.js"],"names":["React","NavBar","Row","Leftcomponent","Footer","Rightcomponent","base","firebase","Authanticate","c","cpp","python2","python3","Java","NodeJS","Ruby","cpp14","csharp","Axios","About","App","state","editor","isopen","savefiles","mode","dropdownvalue","issaved","filename","status","id","recent","val","length","uid","owner","signup","fontsize","tabsize","theme","oldvalue","inputdata","isoutput","output","about","setoldvalue","setState","previoussetting","res","localStorage","getItem","JSON","parse","getWrapperElement","style","parseInt","refresh","setmode","setOption","setValue","setlength","getValue","setsignup","savedlastfile","len","Object","keys","data","file","name","content","Date","now","final","setItem","stringify","index","updaterecent","setid","setdropdown","setsaved","setunsaved","updateeditor","props","updatevalue","key","savefile","setstatus","setTimeout","on","cm","seteditor","settheme","settab","setsize","toggle","authenticate","provider","authprovider","auth","signInWithPopup","then","authHandler","authdata","fetch","user","context","store","post","ref","syncState","logout","signOut","editrecent","ind","Exicutecode","lang","showoutput","clientId","clientSecret","script","stdin","language","versionIndex","response","statusCode","updateinput","setabout","onAuthStateChanged","match","params","atob","equalTo","removeBinding","paddingLeft","paddingRight","marginLeft","marginRight","url","Component"],"mappings":"otCAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,OAAQC,GAAR,KAAkB,YAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,OAASC,CAAT,CAAYC,GAAZ,CAAgBC,OAAhB,CAAwBC,OAAxB,CAAgCC,IAAhC,CAAqCC,MAArC,CAA4CC,IAA5C,CAAiDC,KAAjD,CAAuDC,MAAvD,KAAqE,SAArE,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,C,GACMC,CAAAA,G,2TACFC,K,CAAM,CACFC,MAAM,CAAC,EADL,CAEFC,MAAM,CAAC,KAFL,CAGFC,SAAS,CAAC,EAHR,CAIFC,IAAI,CAAC,MAJH,CAKFC,aAAa,CAAC,EALZ,CAMFC,OAAO,CAAC,KANN,CAOFC,QAAQ,CAAC,EAPP,CAQFC,MAAM,CAAC,EARL,CASFC,EAAE,CAAC,IATD,CAUFC,MAAM,CAAC,EAVL,CAWFC,GAAG,CAAC,EAXF,CAYFC,MAAM,CAAC,CAAC,UAZN,CAaFC,GAAG,CAAC,IAbF,CAcFC,KAAK,CAAC,IAdJ,CAeFC,MAAM,CAAC,KAfL,CAgBFC,QAAQ,CAAC,EAhBP,CAiBFC,OAAO,CAAC,CAjBN,CAkBFC,KAAK,CAAC,YAlBJ,CAmBFC,QAAQ,CAAC,IAnBP,CAoBFC,SAAS,CAAC,EApBR,CAqBFC,QAAQ,CAAC,KArBP,CAsBFC,MAAM,CAAC,IAtBL,CAuBFC,KAAK,CAAE,KAvBL,C,OA0FNC,W,CAAY,SAACb,GAAD,CAAO,CACf,MAAKc,QAAL,CAAc,CAACN,QAAQ,CAACR,GAAV,CAAd,EACH,C,OACDe,e,CAAgB,UAAI,CAChB,GAAMC,CAAAA,GAAG,CAACC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAV,CACA,GAAIlB,CAAAA,GAAG,CAAGmB,IAAI,CAACC,KAAL,CAAWJ,GAAX,CAAV,CACA,GAAGhB,GAAG,EAAIA,GAAG,CAACP,IAAX,EAAmBO,GAAG,CAACK,QAA1B,CAAmC,CAC/B,MAAKhB,KAAL,CAAWC,MAAX,CAAkB+B,iBAAlB,GAAsCC,KAAtC,CAA4C,WAA5C,EAAyDC,QAAQ,CAACvB,GAAG,CAACK,QAAL,CAAR,CAAuB,IAAhF,CACA,MAAKhB,KAAL,CAAWC,MAAX,CAAkBkC,OAAlB,GACA,MAAKC,OAAL,CAAazB,GAAG,CAACP,IAAjB,EACA,OAAQO,GAAG,CAACP,IAAZ,EACI,IAAK,KAAL,CACI,MAAKJ,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,eAAnC,EACA,MAAKrC,KAAL,CAAWC,MAAX,CAAkBqC,QAAlB,CAA2BjD,GAA3B,EACA,MAAKkD,SAAL,CAAe,MAAKvC,KAAL,CAAWC,MAAX,CAAkBuC,QAAlB,GAA6B5B,MAA5C,EACA,MACJ,IAAK,GAAL,CACI,MAAKZ,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,aAAnC,EACA,MAAKrC,KAAL,CAAWC,MAAX,CAAkBqC,QAAlB,CAA2BlD,CAA3B,EACA,MAAKmD,SAAL,CAAe,MAAKvC,KAAL,CAAWC,MAAX,CAAkBuC,QAAlB,GAA6B5B,MAA5C,EACA,MACJ,IAAK,QAAL,CACI,MAAKZ,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,eAAnC,EACA,MAAKrC,KAAL,CAAWC,MAAX,CAAkBqC,QAAlB,CAA2B3C,KAA3B,EACA,MAAK4C,SAAL,CAAe,MAAKvC,KAAL,CAAWC,MAAX,CAAkBuC,QAAlB,GAA6B5B,MAA5C,EACA,MACJ,IAAK,UAAL,CACI,MAAKZ,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,eAAnC,EACA,MAAKrC,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,SAA5B,CAAsC,CAAtC,EACA,MAAKrC,KAAL,CAAWC,MAAX,CAAkBqC,QAAlB,CAA2BhD,OAA3B,EACA,MAAKiD,SAAL,CAAe,MAAKvC,KAAL,CAAWC,MAAX,CAAkBuC,QAAlB,GAA6B5B,MAA5C,EACA,MACJ,IAAK,UAAL,CACI,MAAKZ,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,eAAnC,EACA,MAAKrC,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,SAA5B,CAAsC,CAAtC,EACA,MAAKrC,KAAL,CAAWC,MAAX,CAAkBqC,QAAlB,CAA2B/C,OAA3B,EACA,MAAKgD,SAAL,CAAe,MAAKvC,KAAL,CAAWC,MAAX,CAAkBuC,QAAlB,GAA6B5B,MAA5C,EACA,MACJ,IAAK,MAAL,CACI,MAAKZ,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,aAAnC,EACA,MAAKrC,KAAL,CAAWC,MAAX,CAAkBqC,QAAlB,CAA2B9C,IAA3B,EACA,MAAK+C,SAAL,CAAe,MAAKvC,KAAL,CAAWC,MAAX,CAAkBuC,QAAlB,GAA6B5B,MAA5C,EACA,MACJ,IAAK,IAAL,CACI,MAAKZ,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,eAAnC,EACA,MAAKrC,KAAL,CAAWC,MAAX,CAAkBqC,QAAlB,CAA2B1C,MAA3B,EACA,MAAK2C,SAAL,CAAe,MAAKvC,KAAL,CAAWC,MAAX,CAAkBuC,QAAlB,GAA6B5B,MAA5C,EACA,MACJ,IAAK,QAAL,CACI,MAAKZ,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,iBAAnC,EACA,MAAKrC,KAAL,CAAWC,MAAX,CAAkBqC,QAAlB,CAA2B7C,MAA3B,EACA,MAAK8C,SAAL,CAAe,MAAKvC,KAAL,CAAWC,MAAX,CAAkBuC,QAAlB,GAA6B5B,MAA5C,EACA,MACJ,IAAK,MAAL,CACI,MAAKZ,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,aAAnC,EACA,MAAKrC,KAAL,CAAWC,MAAX,CAAkBqC,QAAlB,CAA2B5C,IAA3B,EACA,MAAK6C,SAAL,CAAe,MAAKvC,KAAL,CAAWC,MAAX,CAAkBuC,QAAlB,GAA6B5B,MAA5C,EACA,MAEJ,QACI,MAlDR,CAoDA,MAAKY,WAAL,CAAiBb,GAAG,CAACP,IAArB,EACA,MAAKJ,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,YAA5B,CAAyCH,QAAQ,CAACvB,GAAG,CAACM,OAAL,CAAjD,EACA,MAAKjB,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,OAA5B,CAAoC1B,GAAG,CAACO,KAAxC,EAEH,CACJ,C,OAEDuB,S,CAAU,UAAI,CACV,MAAKhB,QAAL,CAAc,CAACV,MAAM,CAAC,CAAC,MAAKf,KAAL,CAAWe,MAApB,CAAd,EACH,C,OAED2B,a,CAAc,UAAI,CACd,GAAMC,CAAAA,GAAG,CAAEC,MAAM,CAACC,IAAP,CAAY,MAAK7C,KAAL,CAAWU,MAAvB,EAA+BE,MAA1C,CACA,GAAG+B,GAAG,CAAC,CAAP,CAAS,CACL,GAAIlC,CAAAA,EAAE,CAAE,IAAR,CACA,GAAIqC,CAAAA,IAAI,CAAC,EAAT,CACA,GAAG,CAAC,MAAK9C,KAAL,CAAWM,OAAf,CAAuB,CACpB,GAAMyC,CAAAA,IAAI,CAAC,CACPC,IAAI,CAAC,SADE,CAEPC,OAAO,CAAC,MAAKjD,KAAL,CAAWC,MAAX,CAAkBuC,QAAlB,EAFD,CAGPpC,IAAI,CAAC,MAAKJ,KAAL,CAAWK,aAHT,CAIPG,MAAM,CAAC,SAJA,CAAX,CAMAC,EAAE,CAACyC,IAAI,CAACC,GAAL,EAAH,CACAL,IAAI,CAACC,IAAL,CACF,CATD,IAUI,CACAtC,EAAE,CAAC,MAAKT,KAAL,CAAWS,EAAd,CACDqC,IAAI,CAAC,MAAK9C,KAAL,CAAWG,SAAX,CAAqB,MAAKH,KAAL,CAAWS,EAAhC,CAAL,CACF,CACD,GAAIC,CAAAA,MAAM,kBAAK,MAAKV,KAAL,CAAWU,MAAhB,CAAV,CACAA,MAAM,CAACD,EAAD,CAAN,CAAWqC,IAAX,CACA,GAAMM,CAAAA,KAAK,CAAC,CACRhD,IAAI,CAAC,EADG,CAERY,QAAQ,CAAC,EAFD,CAGRN,MAAM,CAACA,MAHC,CAAZ,CAKAkB,YAAY,CAACyB,OAAb,CAAqB,SAArB,CAA+BvB,IAAI,CAACwB,SAAL,CAAeF,KAAf,CAA/B,EACA,MAAK3B,QAAL,CAAc,CAACf,MAAM,CAANA,MAAD,CAAd,EAEH,CA3BD,IA4BI,CACD,GAAM6C,CAAAA,KAAK,CAAEX,MAAM,CAACC,IAAP,CAAY,MAAK7C,KAAL,CAAWU,MAAvB,EAA+B,CAA/B,CAAb,CACA,GAAIA,CAAAA,OAAM,kBAAK,MAAKV,KAAL,CAAWU,MAAhB,CAAV,CACA,MAAOA,CAAAA,OAAM,CAAC6C,KAAD,CAAb,CACA,GAAI9C,CAAAA,GAAE,CAAE,IAAR,CACC,GAAIqC,CAAAA,KAAI,CAAC,EAAT,CACA,GAAG,CAAC,MAAK9C,KAAL,CAAWM,OAAf,CAAuB,CACpB,GAAMyC,CAAAA,KAAI,CAAC,CACPC,IAAI,CAAC,SADE,CAEPC,OAAO,CAAC,MAAKjD,KAAL,CAAWC,MAAX,CAAkBuC,QAAlB,EAFD,CAGPpC,IAAI,CAAC,MAAKJ,KAAL,CAAWK,aAHT,CAIPG,MAAM,CAAC,SAJA,CAAX,CAMAC,GAAE,CAACyC,IAAI,CAACC,GAAL,EAAH,CACAL,KAAI,CAACC,KAAL,CACF,CATD,IAUI,CACAtC,GAAE,CAAC,MAAKT,KAAL,CAAWS,EAAd,CACDqC,KAAI,CAAC,MAAK9C,KAAL,CAAWG,SAAX,CAAqB,MAAKH,KAAL,CAAWS,EAAhC,CAAL,CACF,CACDC,OAAM,CAACD,GAAD,CAAN,CAAWqC,KAAX,CACA,GAAMM,CAAAA,MAAK,CAAC,CACRhD,IAAI,CAAC,EADG,CAERY,QAAQ,CAAC,EAFD,CAGRN,MAAM,CAACA,OAHC,CAAZ,CAKAkB,YAAY,CAACyB,OAAb,CAAqB,SAArB,CAA+BvB,IAAI,CAACwB,SAAL,CAAeF,MAAf,CAA/B,EACA,MAAK3B,QAAL,CAAc,CAACf,MAAM,CAACA,OAAR,CAAd,EAEH,CACJ,C,OAED8C,Y,CAAa,UAAI,CACb,GAAMb,CAAAA,GAAG,CAAEC,MAAM,CAACC,IAAP,CAAY,MAAK7C,KAAL,CAAWU,MAAvB,EAA+BE,MAA1C,CACA,GAAG+B,GAAG,CAAC,CAAP,CAAS,CACL,GAAIlC,CAAAA,EAAE,CAAE,IAAR,CACA,GAAIqC,CAAAA,IAAI,CAAC,EAAT,CACA,GAAG,CAAC,MAAK9C,KAAL,CAAWM,OAAf,CAAuB,CACpB,GAAMyC,CAAAA,IAAI,CAAC,CACPC,IAAI,CAAC,SADE,CAEPC,OAAO,CAAC,MAAKjD,KAAL,CAAWC,MAAX,CAAkBuC,QAAlB,EAFD,CAGPpC,IAAI,CAAC,MAAKJ,KAAL,CAAWK,aAHT,CAIPG,MAAM,CAAC,SAJA,CAAX,CAMA,GAAG,MAAKR,KAAL,CAAWS,EAAd,CACCA,EAAE,CAAC,MAAKT,KAAL,CAAWS,EAAd,CADD,IAGCA,CAAAA,EAAE,CAACyC,IAAI,CAACC,GAAL,EAAH,CAEDL,IAAI,CAACC,IAAL,CACF,CAbD,IAcI,CACAtC,EAAE,CAAC,MAAKT,KAAL,CAAWS,EAAd,CACDqC,IAAI,CAAC,MAAK9C,KAAL,CAAWG,SAAX,CAAqB,MAAKH,KAAL,CAAWS,EAAhC,CAAL,CACF,CACD,GAAIC,CAAAA,MAAM,kBAAK,MAAKV,KAAL,CAAWU,MAAhB,CAAV,CACAA,MAAM,CAACD,EAAD,CAAN,CAAWqC,IAAX,CACA,MAAKrB,QAAL,CAAc,CAACf,MAAM,CAANA,MAAD,CAAd,EAEH,CAzBD,IA0BI,CACD,GAAM6C,CAAAA,KAAK,CAAEX,MAAM,CAACC,IAAP,CAAY,MAAK7C,KAAL,CAAWU,MAAvB,EAA+B,CAA/B,CAAb,CACA,GAAIA,CAAAA,QAAM,kBAAK,MAAKV,KAAL,CAAWU,MAAhB,CAAV,CACA,MAAOA,CAAAA,QAAM,CAAC6C,KAAD,CAAb,CACA,GAAI9C,CAAAA,IAAE,CAAE,IAAR,CACC,GAAIqC,CAAAA,MAAI,CAAC,EAAT,CACA,GAAG,CAAC,MAAK9C,KAAL,CAAWM,OAAf,CAAuB,CACpB,GAAMyC,CAAAA,MAAI,CAAC,CACPC,IAAI,CAAC,SADE,CAEPC,OAAO,CAAC,MAAKjD,KAAL,CAAWC,MAAX,CAAkBuC,QAAlB,EAFD,CAGPpC,IAAI,CAAC,MAAKJ,KAAL,CAAWK,aAHT,CAIPG,MAAM,CAAC,SAJA,CAAX,CAMA,GAAG,MAAKR,KAAL,CAAWS,EAAd,CACCA,IAAE,CAAC,MAAKT,KAAL,CAAWS,EAAd,CADD,IAGCA,CAAAA,IAAE,CAACyC,IAAI,CAACC,GAAL,EAAH,CACDL,MAAI,CAACC,MAAL,CACF,CAZD,IAaI,CACAtC,IAAE,CAAC,MAAKT,KAAL,CAAWS,EAAd,CACDqC,MAAI,CAAC,MAAK9C,KAAL,CAAWG,SAAX,CAAqB,MAAKH,KAAL,CAAWS,EAAhC,CAAL,CACF,CACDC,QAAM,CAACD,IAAD,CAAN,CAAWqC,MAAX,CACA,MAAKrB,QAAL,CAAc,CAACf,MAAM,CAACA,QAAR,CAAd,EACH,CAEJ,C,OAED+C,K,CAAM,SAAC9C,GAAD,CAAO,CACT,MAAKc,QAAL,CAAc,CAAChB,EAAE,CAACE,GAAJ,CAAd,EACH,C,OACD+C,W,CAAY,SAAC/C,GAAD,CAAO,CACf,MAAKc,QAAL,CAAc,CAACpB,aAAa,CAACM,GAAf,CAAd,EACH,C,OACDgD,Q,CAAS,UAAI,CACT,MAAKlC,QAAL,CAAc,CAACnB,OAAO,CAAC,CAAC,MAAKN,KAAL,CAAWM,OAArB,CAAd,EACH,C,OACDsD,U,CAAW,UAAI,CACX,MAAKnC,QAAL,CAAc,CAACnB,OAAO,CAAC,KAAT,CAAd,EACH,C,OAEDuD,Y,CAAa,SAACpD,EAAD,CAAIqC,IAAJ,CAAW,CACpB,GAAGrC,EAAE,EAAIqC,IAAT,CAAc,CACV,MAAK9C,KAAL,CAAWC,MAAX,CAAkBqC,QAAlB,CAA2B,cAA3B,EACA;AACA;AACA,MAAKoB,WAAL,CAAiBZ,IAAI,CAAC1C,IAAtB,EACA,MAAKJ,KAAL,CAAWC,MAAX,CAAkBqC,QAAlB,CAA2BQ,IAAI,CAACG,OAAhC,EACA,MAAKb,OAAL,CAAaU,IAAI,CAAC1C,IAAlB,EACA,OAAQ0C,IAAI,CAAC1C,IAAb,EACI,IAAK,KAAL,CACI,MAAKJ,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,eAAnC,EACA,MACJ,IAAK,GAAL,CACI,MAAKrC,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,aAAnC,EACA,MACJ,IAAK,QAAL,CACI,MAAKrC,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,eAAnC,EACA,MACJ,IAAK,UAAL,CACI,MAAKrC,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,eAAnC,EACA,MAAKyB,KAAL,CAAW7D,MAAX,CAAkBoC,SAAlB,CAA4B,SAA5B,CAAsC,CAAtC,EACA,MACJ,IAAK,UAAL,CACI,MAAKrC,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,eAAnC,EACA,MAAKyB,KAAL,CAAW7D,MAAX,CAAkBoC,SAAlB,CAA4B,SAA5B,CAAsC,CAAtC,EACA,MACJ,IAAK,MAAL,CACI,MAAKrC,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,aAAnC,EACA,MACJ,IAAK,IAAL,CACI,MAAKrC,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,eAAnC,EACA,MACJ,IAAK,QAAL,CACI,MAAKrC,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,iBAAnC,EACA,MACJ,IAAK,MAAL,CACI,MAAKrC,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,aAAnC,EACA,MACJ,QACI,MA/BR,CAkCA,MAAKZ,QAAL,CAAc,CAACb,MAAM,CAAC,MAAKZ,KAAL,CAAWC,MAAX,CAAkBuC,QAAlB,GAA6B5B,MAArC,CAAd,EAEH,CACJ,C,OAEDmD,W,CAAY,SAACC,GAAD,CAAKrD,GAAL,CAAW,CACnB,GAAMR,CAAAA,SAAS,kBAAK,MAAKH,KAAL,CAAWG,SAAhB,CAAf,CACAA,SAAS,CAAC6D,GAAD,CAAT,CAAerD,GAAf,CACA,MAAKc,QAAL,CAAc,CAACtB,SAAS,CAACA,SAAX,CAAd,EACH,C,OAEDiC,O,CAAQ,SAACzB,GAAD,CAAO,CACX,MAAKc,QAAL,CAAc,CAACrB,IAAI,CAACO,GAAN,CAAd,EACH,C,OACDsD,Q,CAAS,SAACtD,GAAD,CAAO,CACZ,MAAKc,QAAL,CAAc,CAACnB,OAAO,CAAC,IAAT,CAAd,EACA,MAAK4D,SAAL,CAAe,WAAf,EACA,GAAMpB,CAAAA,IAAI,CAAC,CACPE,IAAI,CAACrC,GADE,CAEPsC,OAAO,CAAC,MAAKjD,KAAL,CAAWC,MAAX,CAAkBuC,QAAlB,EAFD,CAGPhC,MAAM,CAAC,OAHA,CAIPJ,IAAI,CAAC,MAAKJ,KAAL,CAAWI,IAJT,CAAX,CAMA,GAAMD,CAAAA,SAAS,kBAAM,MAAKH,KAAL,CAAWG,SAAjB,CAAf,CACA,GAAIM,CAAAA,EAAE,CAAC,EAAP,CACA,GAAG,MAAKT,KAAL,CAAWS,EAAX,GAAgB,IAAnB,CAAwB,CACpBA,EAAE,CAAC,MAAKT,KAAL,CAAWS,EAAd,CACH,CAFD,IAGI,CACAA,EAAE,CAAEyC,IAAI,CAACC,GAAL,EAAJ,CACA,MAAKM,KAAL,CAAWhD,EAAX,EACH,CACDN,SAAS,CAACM,EAAD,CAAT,CAAcqC,IAAd,CACA,MAAKrB,QAAL,CAAc,CAACtB,SAAS,CAACA,SAAX,CAAd,EACAgE,UAAU,CAAC,UAAM,CACb,MAAKD,SAAL,CAAepB,IAAI,CAACE,IAApB,EACA,MAAKQ,YAAL,GACH,CAHS,CAGP,IAHO,CAAV,CAKA,MAAKxD,KAAL,CAAWC,MAAX,CAAkBmE,EAAlB,CAAqB,QAArB,CAA8B,SAACC,EAAD,CAAM,CAChC,GAAG,MAAKrE,KAAL,CAAWK,aAAX,GAA2ByC,IAAI,CAAC1C,IAAnC,CAAwC,CACpC,MAAK8D,SAAL,CAAe,WAAf,EACApB,IAAI,CAACG,OAAL,CAAaoB,EAAE,CAAC7B,QAAH,EAAb,CACA,MAAKuB,WAAL,CAAiBtD,EAAjB,CAAoBqC,IAApB,EACAqB,UAAU,CAAC,UAAM,CACb,MAAKD,SAAL,CAAepB,IAAI,CAACE,IAApB,EACH,CAFS,CAEP,IAFO,CAAV,CAIH,CACJ,CAVD,EAWH,C,OACDsB,S,CAAU,SAAC3D,GAAD,CAAO,CACb,MAAKc,QAAL,CAAc,CAACxB,MAAM,CAACU,GAAR,CAAd,EACH,C,OACD4D,Q,CAAS,SAAC5D,GAAD,CAAO,CACZ,MAAKc,QAAL,CAAc,CAACP,KAAK,CAACP,GAAP,CAAd,EACA,MAAKX,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,OAA5B,CAAoC1B,GAApC,EACH,C,OACD6D,M,CAAO,SAAC7D,GAAD,CAAO,CACV,MAAKc,QAAL,CAAc,CAACR,OAAO,CAACN,GAAT,CAAd,EACA,MAAKX,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,YAA5B,CAAyC1B,GAAzC,EACH,C,OACD8D,O,CAAQ,SAAC9D,GAAD,CAAO,CACX,MAAKc,QAAL,CAAc,CAACT,QAAQ,CAACL,GAAV,CAAd,EACA,MAAKX,KAAL,CAAWC,MAAX,CAAkB+B,iBAAlB,GAAsCC,KAAtC,CAA4C,WAA5C,EAA0DtB,GAAG,CAAC,IAA9D,CACA,MAAKX,KAAL,CAAWC,MAAX,CAAkBkC,OAAlB,GACH,C,OACDuC,M,CAAO,UAAI,CACP,MAAKjD,QAAL,CAAc,CAACvB,MAAM,CAAC,CAAC,MAAKF,KAAL,CAAWE,MAApB,CAAd,EACH,C,OACDgE,S,CAAU,SAACvD,GAAD,CAAO,CACb;AACA,MAAKc,QAAL,CAAc,CAACjB,MAAM,CAACG,GAAR,CAAd,EACH,C,OAED4B,S,CAAU,SAACI,GAAD,CAAO,CACb,MAAKlB,QAAL,CAAc,CAACb,MAAM,CAAC+B,GAAR,CAAd,EACH,C,OAEDgC,Y,CAAa,SAACC,QAAD,CAAY,CACrB,GAAMC,CAAAA,YAAY,CAAE,GAAI3F,CAAAA,QAAQ,CAAC4F,IAAT,WAAiBF,QAAjB,iBAAJ,EAApB,CACA1F,QAAQ,CAAC4F,IAAT,GAAgBC,eAAhB,CAAgCF,YAAhC,EAA8CG,IAA9C,CAAmD,MAAKC,WAAxD,EACA,MAAKxC,SAAL,GAEH,C,OAEDwC,W,0FAAa,iBAAOC,QAAP,kJAEWjG,CAAAA,IAAI,CAACkG,KAAL,CAAWD,QAAQ,CAACE,IAAT,CAAcvE,GAAzB,CAA6B,CAACwE,OAAO,8BAAR,CAA7B,CAFX,QAEHC,KAFG,kBAILA,KAAK,CAACF,IAJD,+CAKCnG,CAAAA,IAAI,CAACsG,IAAL,WAAaL,QAAQ,CAACE,IAAT,CAAcvE,GAA3B,UAAsC,CACxCiC,IAAI,CAACoC,QAAQ,CAACE,IAAT,CAAcvE,GADqB,CAAtC,CALD,QAST;AACA,MAAKY,QAAL,CAAc,CACVZ,GAAG,CAACqE,QAAQ,CAACE,IAAT,CAAcvE,GADR,CAEVC,KAAK,CAACwE,KAAK,CAACF,IAAN,EAAcF,QAAQ,CAACE,IAAT,CAAcvE,GAFxB,CAAd,EAIA,MAAK2E,GAAL,CAAUvG,IAAI,CAACwG,SAAL,WAAkBP,QAAQ,CAACE,IAAT,CAAcvE,GAAhC,eAAgD,CACtDwE,OAAO,8BAD+C,CAEtDrF,KAAK,CAAC,WAFgD,CAAhD,CAAV,CAdS,sD,qEAoBb0F,M,sEAAS,+JACCxG,CAAAA,QAAQ,CAAC4F,IAAT,GAAgBa,OAAhB,EADD,QAEL,MAAKlE,QAAL,CAAc,CACVZ,GAAG,CAAC,IADM,CAAd,EAFK,wD,SAOT+E,U,CAAW,SAACjF,GAAD,CAAKkF,GAAL,CAAW,CAClB,MAAKpE,QAAL,CAAc,CAACnB,OAAO,CAAC,KAAT,CAAd,EACA,GAAGK,GAAG,CAACH,MAAJ,GAAa,OAAhB,CAAwB,CACpB,MAAKmD,QAAL,GACA,MAAKO,SAAL,CAAevD,GAAG,CAACqC,IAAnB,EACH,CACD,MAAKxB,WAAL,CAAiBb,GAAG,CAACP,IAArB,EACA,MAAKqD,KAAL,CAAWoC,GAAX,EACA,MAAKnC,WAAL,CAAiB/C,GAAG,CAACP,IAArB,EACA,MAAKgC,OAAL,CAAazB,GAAG,CAACP,IAAjB,EACA,OAAQO,GAAG,CAACP,IAAZ,EACI,IAAK,KAAL,CACI,MAAKJ,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,eAAnC,EACA,MACJ,IAAK,GAAL,CACI,MAAKrC,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,aAAnC,EACA,MACJ,IAAK,QAAL,CACI,MAAKrC,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,eAAnC,EACA,MACJ,IAAK,UAAL,CACI,MAAKrC,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,eAAnC,EACA,MACJ,IAAK,UAAL,CACI,MAAKrC,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,eAAnC,EACA,MACJ,IAAK,MAAL,CACI,MAAKrC,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,aAAnC,EACA,MACJ,IAAK,IAAL,CACI,MAAKrC,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,eAAnC,EACA,MACJ,IAAK,QAAL,CACI,MAAKrC,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,iBAAnC,EACA,MACJ,IAAK,MAAL,CACI,MAAKrC,KAAL,CAAWC,MAAX,CAAkBoC,SAAlB,CAA4B,MAA5B,CAAmC,aAAnC,EACA,MACJ,QACI,MA7BR,CA+BA,MAAKZ,QAAL,CAAc,CAAClB,QAAQ,CAACI,GAAG,CAACqC,IAAd,CAAd,EACA,MAAKhD,KAAL,CAAWC,MAAX,CAAkBqC,QAAlB,CAA2B3B,GAAG,CAACsC,OAA/B,EACA,MAAKV,SAAL,CAAe5B,GAAG,CAACsC,OAAJ,CAAYrC,MAA3B,EACA,MAAKZ,KAAL,CAAWC,MAAX,CAAkBmE,EAAlB,CAAqB,QAArB,CAA8B,SAACC,EAAD,CAAM,CAChC,GAAG,MAAKrE,KAAL,CAAWK,aAAX,GAA2BM,GAAG,CAACP,IAA/B,EAAuCO,GAAG,CAACH,MAAJ,GAAa,OAAvD,CAA+D,CAC3DG,GAAG,CAACsC,OAAJ,CAAYoB,EAAE,CAAC7B,QAAH,EAAZ,CACA,MAAKuB,WAAL,CAAiB8B,GAAjB,CAAqBlF,GAArB,EACH,CACJ,CALD,EAMH,C,OAEDmF,W,sEAAY,8JACJC,IADI,CACC,EADD,cAEA,MAAK/F,KAAL,CAAWI,IAFX,+BAGC,KAHD,kBAMC,GAND,kBASC,QATD,kBAYC,UAZD,mBAeC,UAfD,mBAkBC,MAlBD,mBAqBC,IArBD,mBAwBC,QAxBD,mBA2BC,MA3BD,oBAIA2F,IAAI,CAAC,KAAL,CAJA,2CAOAA,IAAI,CAAC,GAAL,CAPA,2CAUAA,IAAI,CAAC,OAAL,CAVA,4CAaAA,IAAI,CAAC,SAAL,CAbA,4CAgBAA,IAAI,CAAC,SAAL,CAhBA,4CAmBAA,IAAI,CAAC,MAAL,CAnBA,4CAsBAA,IAAI,CAAC,QAAL,CAtBA,4CAyBAA,IAAI,CAAC,QAAL,CAzBA,4CA4BAA,IAAI,CAAC,MAAL,CA5BA,4CA+BAA,IAAI,CAAC,MAAK/F,KAAL,CAAWI,IAAhB,CA/BA,4CAkCR,MAAK4F,UAAL,GACA,MAAKvE,QAAL,CAAc,CAACH,MAAM,CAAC,IAAR,CAAd,EACMX,GApCE,CAoCE,MAAKX,KAAL,CAAWC,MAAX,CAAkBuC,QAAlB,EApCF,yBAqCe3C,CAAAA,KAAK,CAAC0F,IAAN,CAAW,UAAX,CAAsB,CACrCU,QAAQ,CAAC,kCAD4B,CAErCC,YAAY,CAAC,kEAFwB,CAGrCC,MAAM,CAACxF,GAH8B,CAIrCyF,KAAK,CAAC,MAAKpG,KAAL,CAAWoB,SAJoB,CAKrCiF,QAAQ,CAACN,IAL4B,CAMrCO,YAAY,CAAC,CANwB,CAAtB,CArCf,SAqCFC,QArCE,gBA6CJ,GAAGA,QAAQ,CAACzD,IAAT,CAAc0D,UAAd,GAA2B,GAA9B,CAAkC,CAC9B,MAAK/E,QAAL,CAAc,CAACH,MAAM,CAACiF,QAAQ,CAACzD,IAAjB,CAAd,EACH,CAFD,IAGI,CACA,MAAKrB,QAAL,CAAc,CAACH,MAAM,CAAC,oBAAR,CAAd,EACH,CAlDG,yD,SAqDZmF,W,CAAY,SAAC9F,GAAD,CAAO,CACf,MAAKc,QAAL,CAAc,CAACL,SAAS,CAACT,GAAX,CAAd,EACH,C,OACDqF,U,CAAW,UAAI,CACX,MAAKvE,QAAL,CAAc,CAACJ,QAAQ,CAAC,IAAV,CAAd,EACH,C,OACDqF,Q,CAAS,UAAI,CACT,MAAKjF,QAAL,CAAc,CAACF,KAAK,CAAC,CAAC,MAAKvB,KAAL,CAAWuB,KAAnB,CAAd,EACH,C,8FAzhBmB,iBAChBrC,QAAQ,CAAC4F,IAAT,GAAgB6B,kBAAhB,CAAmC,SAAAvB,IAAI,CAAE,CACrC,GAAGA,IAAH,CAAQ,CACJ,MAAI,CAACH,WAAL,CAAiB,CAACG,IAAI,CAAJA,IAAD,CAAjB,EACH,CACJ,CAJD,EAMH,C,6DACkB,iBACf,GAAMzD,CAAAA,GAAG,CAACC,YAAY,CAACC,OAAb,CAAqB,SAArB,CAAV,CACA,GAAGF,GAAH,CAAO,CACH,GAAMhB,CAAAA,GAAG,CAACmB,IAAI,CAACC,KAAL,CAAWJ,GAAX,CAAV,CACA,KAAKF,QAAL,CAAc,CAACd,GAAG,CAACA,GAAL,CAAd,EACA,KAAKc,QAAL,CAAc,CAACf,MAAM,CAACC,GAAG,CAACD,MAAZ,CAAd,EACA,KAAKe,QAAL,CAAc,CAACT,QAAQ,CAACkB,QAAQ,CAACvB,GAAG,CAACK,QAAL,CAAlB,CAAd,EACA,KAAKoB,OAAL,CAAazB,GAAG,CAACP,IAAjB,EACA,KAAKsD,WAAL,CAAiB/C,GAAG,CAACP,IAArB,EACA,KAAKqB,QAAL,CAAc,CAACR,OAAO,CAACiB,QAAQ,CAACvB,GAAG,CAACM,OAAL,CAAjB,CAAd,EACA,KAAKQ,QAAL,CAAc,CAACP,KAAK,CAACP,GAAG,CAACO,KAAX,CAAd,EACH,CACD,GAAMT,CAAAA,EAAE,CAAG,KAAKqD,KAAL,CAAW8C,KAAX,CAAiBC,MAAjB,CAAwBpG,EAAnC,CACA,GAAM2E,CAAAA,IAAI,CAAE,KAAKtB,KAAL,CAAW8C,KAAX,CAAiBC,MAAjB,CAAwBzB,IAApC,CACA,GAAG3E,EAAE,EAAI2E,IAAT,CAAc,CACVnG,IAAI,CAACkG,KAAL,WAAc2B,IAAI,CAAC1B,IAAD,CAAlB,uBAAsC3E,EAAtC,EAA4C,CACxC4E,OAAO,CAAE,IAD+B,CAExC0B,OAAO,CAAEtG,EAF+B,CAGxCuE,IAHwC,eAGnClC,IAHmC,CAG9B,CACR,KAAKe,YAAL,CAAkBpD,EAAlB,CAAqBqC,IAArB,EACD,CALuC,CAA5C,EAQAqB,UAAU,CAAC,UAAM,CACb,MAAI,CAACnE,KAAL,CAAWC,MAAX,CAAkBqC,QAAlB,CAA2B,aAA3B,EACH,CAFS,CAEP,GAFO,CAAV,CAIH,CAbD,IAcI,CACA6B,UAAU,CAAC,UAAM,CACb,MAAI,CAACzC,eAAL,GACC,CAFK,CAEH,GAFG,CAAV,CAGH,CACJ,C,mEAEsB,CAClB,GAAG,KAAK1B,KAAL,CAAWY,MAAX,CAAkB,CAAlB,EAAuB,KAAKZ,KAAL,CAAWY,MAAX,CAAoB,KAAKZ,KAAL,CAAWC,MAAX,CAAkBuC,QAAlB,GAA6B5B,MAA3E,CAAkF,CAC9E,KAAK8B,aAAL,GACH,CACF,GAAG,KAAK8C,GAAR,CAAa,CACTvG,IAAI,CAAC+H,aAAL,CAAmB,KAAKxB,GAAxB,EACH,CACJ,C,+DAEmB,CAChB,GAAMpC,CAAAA,KAAK,CAAC,CACRhD,IAAI,CAAC,KAAKJ,KAAL,CAAWK,aAAX,EAA4B,EADzB,CAERW,QAAQ,CAAC,KAAKhB,KAAL,CAAWgB,QAAX,EAAuB,EAFxB,CAGRC,OAAO,CAAE,KAAKjB,KAAL,CAAWiB,OAAX,EAAsB,EAHvB,CAIRC,KAAK,CAAE,KAAKlB,KAAL,CAAWkB,KAAX,EAAoB,EAJnB,CAKRR,MAAM,CAAC,KAAKV,KAAL,CAAWU,MALV,CAAZ,CAOAkB,YAAY,CAACyB,OAAb,CAAqB,SAArB,CAA+BvB,IAAI,CAACwB,SAAL,CAAeF,KAAf,CAA/B,EAEH,C,uCA4dO,CACJ,mBACI,2BAAK,KAAK,CAAE,CAAC6D,WAAW,CAAC,KAAb,CAAmBC,YAAY,CAAC,KAAhC,CAAZ,eACI,2BAAK,SAAS,CAAC,cAAf,eACI,oBAAC,MAAD,EAAQ,QAAQ,CAAE,KAAKR,QAAvB,CAAiC,MAAM,CAAE,KAAKhB,MAA9C,CAAsD,SAAS,CAAE,KAAKjD,SAAtE,CAAiF,GAAG,CAAE,KAAKzC,KAAL,CAAWa,GAAjG,CAAsG,KAAK,CAAE,KAAKb,KAAL,CAAWc,KAAxH,CAA+H,QAAQ,CAAE,KAAKyD,QAA9I,CAAwJ,MAAM,CAAE,KAAKC,MAArK,CAA6K,OAAO,CAAE,KAAKC,OAA3L,CAAoM,MAAM,CAAE,KAAKzE,KAAL,CAAWE,MAAvN,CAA+N,QAAQ,CAAE,KAAK+D,QAA9O,CAAwP,MAAM,CAAE,KAAKS,MAArQ,CAA6Q,MAAM,CAAE,KAAK1E,KAAL,CAAWC,MAAhS,CAAwS,WAAW,CAAE,KAAKyD,WAA1T,CAAuU,OAAO,CAAE,KAAKtB,OAArV,CAA8V,UAAU,CAAE,KAAKwB,UAA/W,EADJ,cAEI,oBAAC,YAAD,EAAc,MAAM,CAAE,KAAK5D,KAAL,CAAWe,MAAjC,CAAyC,SAAS,CAAE,KAAK0B,SAAzD,CAAoE,YAAY,CAAE,KAAKkC,YAAvF,EAFJ,cAGI,oBAAC,KAAD,EAAO,KAAK,CAAE,KAAK3E,KAAL,CAAWuB,KAAzB,CAAgC,QAAQ,CAAE,KAAKmF,QAA/C,EAHJ,cAII,2BAAK,SAAS,CAAC,KAAf,EAJJ,cAKI,2BAAK,SAAS,CAAC,EAAf,CAAkB,KAAK,CAAE,CAACS,UAAU,CAAC,MAAZ,CAAmBC,WAAW,CAAC,MAA/B,CAAzB,eACI,oBAAC,GAAD,mBACI,oBAAC,aAAD,EAAe,SAAS,CAAE,KAAK3E,SAA/B,CAA0C,GAAG,CAAE,KAAKzC,KAAL,CAAWa,GAA1D,CAA+D,KAAK,CAAE,KAAK4C,KAA3E,CAAmF,MAAM,CAAE,KAAKzD,KAAL,CAAWsB,MAAtG,CAA8G,QAAQ,CAAE,KAAKtB,KAAL,CAAWqB,QAAnI,CAA6I,WAAW,CAAE,KAAKoF,WAA/J,CAA4K,SAAS,CAAE,KAAKzG,KAAL,CAAWoB,SAAlM,CAA6M,WAAW,CAAE,KAAK0E,WAA/N,CAA4O,WAAW,CAAE,KAAKtE,WAA9P,CAA2Q,QAAQ,CAAE,KAAKxB,KAAL,CAAWmB,QAAhS,CAA0S,SAAS,CAAE,KAAKoB,SAA1T,CAAqU,MAAM,CAAE,KAAKvC,KAAL,CAAWY,MAAxV,CAAgW,QAAQ,CAAE,KAAK+C,QAA/W,CAAyX,MAAM,CAAE,KAAK3D,KAAL,CAAWC,MAA5Y,CAAoZ,SAAS,CAAE,KAAKqE,SAApa,CAA+a,MAAM,CAAE,KAAKI,MAA5b,CAAoc,OAAO,CAAE,KAAKtC,OAAld,CAA2d,WAAW,CAAE,KAAKsB,WAA7e,CAA0f,aAAa,CAAE,KAAK1D,KAAL,CAAWK,aAAphB,CAAmiB,OAAO,CAAE,KAAKL,KAAL,CAAWM,OAAvjB,CAAgkB,MAAM,CAAE,KAAKN,KAAL,CAAWQ,MAAnlB,CAA2lB,SAAS,CAAE,KAAK0D,SAA3mB,CAAsnB,IAAI,CAAE,KAAKJ,KAAL,CAAW8C,KAAX,CAAiBS,GAA7oB,CAAkpB,EAAE,CAAE,KAAKrH,KAAL,CAAWS,EAAjqB,CAAqqB,YAAY,CAAE,KAAK+C,YAAxrB,EADJ,cAEI,oBAAC,cAAD,EAAgB,MAAM,CAAE,KAAKxD,KAAL,CAAWU,MAAnC,CAA2C,UAAU,CAAE,KAAKkF,UAA5D,EAFJ,CADJ,CALJ,cAWI,8BAXJ,cAYI,2BAAK,SAAS,CAAC,wBAAf,eACI,oBAAC,MAAD,MADJ,CAZJ,CADJ,CADJ,CAqBH,C,iBA3kBajH,KAAK,CAAC2I,S,EA8kBxB,cAAevH,CAAAA,GAAf","sourcesContent":["import React from \"react\";\r\nimport NavBar from \"./NavBar\";\r\nimport {Row} from 'reactstrap';\r\nimport Leftcomponent from \"./Leftcomponent\";\r\nimport Footer from \"./Footer\";\r\nimport Rightcomponent from \"./Rightcomponent\";\r\nimport base from \"./base\";\r\nimport firebase from \"firebase\";\r\nimport Authanticate from \"./Authanticate\";\r\nimport { c, cpp,python2,python3,Java,NodeJS,Ruby,cpp14,csharp } from \"../data\";\r\nimport Axios from \"axios\";\r\nimport About from \"./About\";\r\nclass App extends React.Component{\r\n    state={\r\n        editor:{},\r\n        isopen:false,\r\n        savefiles:{},\r\n        mode:\"none\",\r\n        dropdownvalue:\"\",\r\n        issaved:false,\r\n        filename:\"\",\r\n        status:\"\",\r\n        id:null,\r\n        recent:{},\r\n        val:{},\r\n        length:-9999999999,\r\n        uid:null,\r\n        owner:null,\r\n        signup:false,\r\n        fontsize:14,\r\n        tabsize:4,\r\n        theme:\"blackboard\",\r\n        oldvalue:null,\r\n        inputdata:\"\",\r\n        isoutput:false,\r\n        output:null,\r\n        about: false\r\n        \r\n    }\r\n    componentWillMount(){\r\n        firebase.auth().onAuthStateChanged(user=>{\r\n            if(user){  \r\n                this.authHandler({user});\r\n            }\r\n        })\r\n      \r\n    }\r\n    componentDidMount(){\r\n        const res=localStorage.getItem(\"CodeBix\");\r\n        if(res){\r\n            const val=JSON.parse(res);\r\n            this.setState({val:val});\r\n            this.setState({recent:val.recent});\r\n            this.setState({fontsize:parseInt(val.fontsize)});\r\n            this.setmode(val.mode);\r\n            this.setdropdown(val.mode);\r\n            this.setState({tabsize:parseInt(val.tabsize)});\r\n            this.setState({theme:val.theme});\r\n        }   \r\n        const id = this.props.match.params.id;\r\n        const user= this.props.match.params.user;\r\n        if(id && user){\r\n            base.fetch(`${atob(user)}/savefiles/${id}`, {\r\n                context: this,\r\n                equalTo: id,\r\n                then(data){\r\n                  this.updateeditor(id,data);\r\n                }\r\n              });\r\n            \r\n            setTimeout(() => {\r\n                this.state.editor.setValue(\"Loading....\");\r\n            }, 500);\r\n            \r\n        }\r\n        else{\r\n            setTimeout(() => {\r\n                this.previoussetting();\r\n                }, 500); \r\n        }\r\n    }\r\n\r\n     componentWillUnmount(){\r\n         if(this.state.length>0 && this.state.length < this.state.editor.getValue().length){\r\n             this.savedlastfile();\r\n         }\r\n        if(this.ref) {\r\n            base.removeBinding(this.ref);\r\n        }\r\n    }\r\n   \r\n    componentDidUpdate(){\r\n        const final={\r\n            mode:this.state.dropdownvalue || \"\",\r\n            fontsize:this.state.fontsize || \"\",\r\n            tabsize: this.state.tabsize || \"\",\r\n            theme: this.state.theme || \"\",\r\n            recent:this.state.recent\r\n        }\r\n        localStorage.setItem(\"CodeBix\",JSON.stringify(final));\r\n\r\n    }\r\n\r\n    setoldvalue=(val)=>{\r\n        this.setState({oldvalue:val});\r\n    }\r\n    previoussetting=()=>{\r\n        const res=localStorage.getItem(\"CodeBix\");\r\n        var val = JSON.parse(res);\r\n        if(val && val.mode && val.fontsize){\r\n            this.state.editor.getWrapperElement().style[\"font-size\"]=parseInt(val.fontsize)+\"px\";\r\n            this.state.editor.refresh();\r\n            this.setmode(val.mode);\r\n            switch (val.mode) {\r\n                case \"C++\":\r\n                    this.state.editor.setOption(\"mode\",\"text/x-c++src\");\r\n                    this.state.editor.setValue(cpp);\r\n                    this.setlength(this.state.editor.getValue().length);\r\n                    break;\r\n                case \"C\":\r\n                    this.state.editor.setOption(\"mode\",\"text/x-csrc\");\r\n                    this.state.editor.setValue(c);\r\n                    this.setlength(this.state.editor.getValue().length);\r\n                    break;\r\n                case \"C++ 14\":\r\n                    this.state.editor.setOption(\"mode\",\"text/x-c++src\");\r\n                    this.state.editor.setValue(cpp14);\r\n                    this.setlength(this.state.editor.getValue().length);\r\n                    break;\r\n                case \"Python 2\":\r\n                    this.state.editor.setOption(\"mode\",\"text/x-python\");\r\n                    this.state.editor.setOption(\"version\",2);\r\n                    this.state.editor.setValue(python2);\r\n                    this.setlength(this.state.editor.getValue().length);\r\n                    break;\r\n                case \"Python 3\":\r\n                    this.state.editor.setOption(\"mode\",\"text/x-python\");\r\n                    this.state.editor.setOption(\"version\",3);\r\n                    this.state.editor.setValue(python3);\r\n                    this.setlength(this.state.editor.getValue().length);\r\n                    break;\r\n                case \"Java\":\r\n                    this.state.editor.setOption(\"mode\",\"text/x-java\");\r\n                    this.state.editor.setValue(Java);\r\n                    this.setlength(this.state.editor.getValue().length);\r\n                    break;\r\n                case \"C#\":\r\n                    this.state.editor.setOption(\"mode\",\"text/x-csharp\");\r\n                    this.state.editor.setValue(csharp);\r\n                    this.setlength(this.state.editor.getValue().length);\r\n                    break;\r\n                case \"NodeJS\":\r\n                    this.state.editor.setOption(\"mode\",\"text/javascript\");\r\n                    this.state.editor.setValue(NodeJS);\r\n                    this.setlength(this.state.editor.getValue().length);\r\n                    break;\r\n                case \"Ruby\":\r\n                    this.state.editor.setOption(\"mode\",\"text/x-ruby\");\r\n                    this.state.editor.setValue(Ruby);\r\n                    this.setlength(this.state.editor.getValue().length);\r\n                    break;\r\n    \r\n                default:\r\n                    break;\r\n            }\r\n            this.setoldvalue(val.mode);\r\n            this.state.editor.setOption(\"indentUnit\",parseInt(val.tabsize));\r\n            this.state.editor.setOption(\"theme\",val.theme);\r\n            \r\n        }        \r\n    }\r\n\r\n    setsignup=()=>{\r\n        this.setState({signup:!this.state.signup});\r\n    }\r\n\r\n    savedlastfile=()=>{\r\n        const len =Object.keys(this.state.recent).length;\r\n        if(len<5){\r\n            let id =null;\r\n            let data={};\r\n            if(!this.state.issaved){                \r\n               const file={\r\n                   name:\"Unknown\",\r\n                   content:this.state.editor.getValue(),\r\n                   mode:this.state.dropdownvalue,\r\n                   status:\"Unsaved\"\r\n               }\r\n               id=Date.now();\r\n               data=file;\r\n            }\r\n            else{\r\n                id=this.state.id;\r\n               data=this.state.savefiles[this.state.id];\r\n            }\r\n            let recent={...this.state.recent};\r\n            recent[id]=data;\r\n            const final={\r\n                mode:\"\",\r\n                fontsize:\"\",\r\n                recent:recent\r\n            }\r\n            localStorage.setItem(\"CodeBix\",JSON.stringify(final));\r\n            this.setState({recent});\r\n            \r\n        }\r\n        else{\r\n           const index= Object.keys(this.state.recent)[0];\r\n           let recent={...this.state.recent};\r\n           delete recent[index];\r\n           let id =null;\r\n            let data={};\r\n            if(!this.state.issaved){\r\n               const file={\r\n                   name:\"Unknown\",\r\n                   content:this.state.editor.getValue(),\r\n                   mode:this.state.dropdownvalue,\r\n                   status:\"Unsaved\"\r\n               }\r\n               id=Date.now();\r\n               data=file;\r\n            }\r\n            else{\r\n                id=this.state.id;\r\n               data=this.state.savefiles[this.state.id];\r\n            }\r\n            recent[id]=data;\r\n            const final={\r\n                mode:\"\",\r\n                fontsize:\"\",\r\n                recent:recent\r\n            }\r\n            localStorage.setItem(\"CodeBix\",JSON.stringify(final));\r\n            this.setState({recent:recent});\r\n            \r\n        }\r\n    }\r\n\r\n    updaterecent=()=>{\r\n        const len =Object.keys(this.state.recent).length;\r\n        if(len<5){\r\n            let id =null;\r\n            let data={};\r\n            if(!this.state.issaved){                \r\n               const file={\r\n                   name:\"Unknown\",\r\n                   content:this.state.editor.getValue(),\r\n                   mode:this.state.dropdownvalue,\r\n                   status:\"Unsaved\"\r\n               }\r\n               if(this.state.id)\r\n                id=this.state.id;\r\n               else\r\n                id=Date.now();\r\n\r\n               data=file;\r\n            }\r\n            else{\r\n                id=this.state.id;\r\n               data=this.state.savefiles[this.state.id];\r\n            }\r\n            let recent={...this.state.recent};\r\n            recent[id]=data;\r\n            this.setState({recent});\r\n            \r\n        }\r\n        else{\r\n           const index= Object.keys(this.state.recent)[0];\r\n           let recent={...this.state.recent};\r\n           delete recent[index];\r\n           let id =null;\r\n            let data={};\r\n            if(!this.state.issaved){\r\n               const file={\r\n                   name:\"Unknown\",\r\n                   content:this.state.editor.getValue(),\r\n                   mode:this.state.dropdownvalue,\r\n                   status:\"Unsaved\"\r\n               }\r\n               if(this.state.id)\r\n                id=this.state.id;\r\n               else\r\n                id=Date.now();\r\n               data=file;\r\n            }\r\n            else{\r\n                id=this.state.id;\r\n               data=this.state.savefiles[this.state.id];\r\n            }\r\n            recent[id]=data;\r\n            this.setState({recent:recent});\r\n        }\r\n      \r\n    }\r\n\r\n    setid=(val)=>{\r\n        this.setState({id:val});\r\n    }\r\n    setdropdown=(val)=>{\r\n        this.setState({dropdownvalue:val});\r\n    }\r\n    setsaved=()=>{\r\n        this.setState({issaved:!this.state.issaved});\r\n    }\r\n    setunsaved=()=>{\r\n        this.setState({issaved:false});\r\n    }\r\n\r\n    updateeditor=(id,data)=>{\r\n        if(id && data){\r\n            this.state.editor.setValue(\"Loading.....\");\r\n            // this.setid(id);\r\n            // this.setsaved();\r\n            this.setdropdown(data.mode);\r\n            this.state.editor.setValue(data.content);\r\n            this.setmode(data.mode);\r\n            switch (data.mode) {\r\n                case \"C++\":\r\n                    this.state.editor.setOption(\"mode\",\"text/x-c++src\");\r\n                    break;\r\n                case \"C\":\r\n                    this.state.editor.setOption(\"mode\",\"text/x-csrc\");\r\n                    break;\r\n                case \"C++ 14\":\r\n                    this.state.editor.setOption(\"mode\",\"text/x-c++src\");\r\n                    break;\r\n                case \"Python 2\":\r\n                    this.state.editor.setOption(\"mode\",\"text/x-python\");\r\n                    this.props.editor.setOption(\"version\",2);\r\n                    break;\r\n                case \"Python 3\":\r\n                    this.state.editor.setOption(\"mode\",\"text/x-python\");\r\n                    this.props.editor.setOption(\"version\",3);\r\n                    break;\r\n                case \"Java\":\r\n                    this.state.editor.setOption(\"mode\",\"text/x-java\");\r\n                    break;\r\n                case \"C#\":\r\n                    this.state.editor.setOption(\"mode\",\"text/x-csharp\");\r\n                    break;\r\n                case \"NodeJS\":\r\n                    this.state.editor.setOption(\"mode\",\"text/javascript\");\r\n                    break;\r\n                case \"Ruby\":\r\n                    this.state.editor.setOption(\"mode\",\"text/x-ruby\");\r\n                    break;\r\n                default:\r\n                    break;\r\n                    \r\n            }\r\n            this.setState({length:this.state.editor.getValue().length});   \r\n        \r\n        }\r\n    }\r\n\r\n    updatevalue=(key,val)=>{\r\n        const savefiles={...this.state.savefiles};\r\n        savefiles[key]=val;\r\n        this.setState({savefiles:savefiles});        \r\n    }\r\n\r\n    setmode=(val)=>{\r\n        this.setState({mode:val});\r\n    }\r\n    savefile=(val)=>{\r\n        this.setState({issaved:true});  \r\n        this.setstatus(\"Saving...\");\r\n        const data={\r\n            name:val,\r\n            content:this.state.editor.getValue(),\r\n            status:\"saved\",\r\n            mode:this.state.mode\r\n        }\r\n        const savefiles ={...this.state.savefiles};\r\n        let id=\"\";\r\n        if(this.state.id!==null){\r\n            id=this.state.id;\r\n        }\r\n        else{\r\n            id =Date.now();\r\n            this.setid(id);\r\n        }\r\n        savefiles[id]=data;\r\n        this.setState({savefiles:savefiles});\r\n        setTimeout(() => {\r\n            this.setstatus(data.name);\r\n            this.updaterecent();\r\n        }, 1000);\r\n        \r\n        this.state.editor.on('change',(cm)=>{\r\n            if(this.state.dropdownvalue===data.mode){\r\n                this.setstatus(\"Saving...\");\r\n                data.content=cm.getValue();\r\n                this.updatevalue(id,data);\r\n                setTimeout(() => {\r\n                    this.setstatus(data.name);\r\n                }, 1000);\r\n\r\n            }\r\n        });\r\n    }\r\n    seteditor=(val)=>{\r\n        this.setState({editor:val});\r\n    }\r\n    settheme=(val)=>{\r\n        this.setState({theme:val});\r\n        this.state.editor.setOption(\"theme\",val);\r\n    }\r\n    settab=(val)=>{\r\n        this.setState({tabsize:val});\r\n        this.state.editor.setOption(\"indentUnit\",val);\r\n    }\r\n    setsize=(val)=>{\r\n        this.setState({fontsize:val});\r\n        this.state.editor.getWrapperElement().style[\"font-size\"]= val+\"px\";\r\n        this.state.editor.refresh();\r\n    }\r\n    toggle=()=>{\r\n        this.setState({isopen:!this.state.isopen});   \r\n    }\r\n    setstatus=(val)=>{\r\n        // console.log(val);\r\n        this.setState({status:val});\r\n    }\r\n\r\n    setlength=(len)=>{\r\n        this.setState({length:len});\r\n    }\r\n\r\n    authenticate=(provider)=>{\r\n        const authprovider =new firebase.auth[`${provider}AuthProvider`]();\r\n        firebase.auth().signInWithPopup(authprovider).then(this.authHandler); \r\n        this.setsignup();\r\n       \r\n    }\r\n\r\n    authHandler= async (authdata)=>{\r\n        // look up a store ito the firebase.\r\n        const store = await base.fetch(authdata.user.uid,{context:this});\r\n        //claim if there is no owner.\r\n        if(!store.user){\r\n            await base.post(`${authdata.user.uid}/user`,{\r\n                data:authdata.user.uid\r\n            });\r\n        }\r\n        //set the state of the inventory compnent.\r\n        this.setState({\r\n            uid:authdata.user.uid,\r\n            owner:store.user || authdata.user.uid\r\n        });\r\n        this.ref= base.syncState(`${authdata.user.uid}/savefiles`,{\r\n            context:this,\r\n            state:'savefiles'\r\n        });\r\n\r\n    }\r\n    logout = async () =>{\r\n        await firebase.auth().signOut();\r\n        this.setState({\r\n            uid:null\r\n        });\r\n    }\r\n\r\n    editrecent=(val,ind)=>{\r\n        this.setState({issaved:false});\r\n        if(val.status===\"saved\"){\r\n            this.setsaved();\r\n            this.setstatus(val.name);\r\n        }\r\n        this.setoldvalue(val.mode);\r\n        this.setid(ind);\r\n        this.setdropdown(val.mode);\r\n        this.setmode(val.mode);\r\n        switch (val.mode) {\r\n            case \"C++\":\r\n                this.state.editor.setOption(\"mode\",\"text/x-c++src\");\r\n                break;\r\n            case \"C\":\r\n                this.state.editor.setOption(\"mode\",\"text/x-csrc\");\r\n                break;\r\n            case \"C++ 14\":\r\n                this.state.editor.setOption(\"mode\",\"text/x-c++src\");\r\n                break;\r\n            case \"Python 2\":\r\n                this.state.editor.setOption(\"mode\",\"text/x-python\");\r\n                break;\r\n            case \"Python 3\":\r\n                this.state.editor.setOption(\"mode\",\"text/x-python\");\r\n                break;\r\n            case \"Java\":\r\n                this.state.editor.setOption(\"mode\",\"text/x-java\");\r\n                break;\r\n            case \"C#\":\r\n                this.state.editor.setOption(\"mode\",\"text/x-csharp\");\r\n                break;\r\n            case \"NodeJS\":\r\n                this.state.editor.setOption(\"mode\",\"text/javascript\");\r\n                break;\r\n            case \"Ruby\":\r\n                this.state.editor.setOption(\"mode\",\"text/x-ruby\");\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n        this.setState({filename:val.name});\r\n        this.state.editor.setValue(val.content);\r\n        this.setlength(val.content.length);\r\n        this.state.editor.on('change',(cm)=>{\r\n            if(this.state.dropdownvalue===val.mode && val.status===\"saved\"){\r\n                val.content=cm.getValue();\r\n                this.updatevalue(ind,val);\r\n            }\r\n        });\r\n    }\r\n\r\n    Exicutecode=async()=>{\r\n        var lang=\"\";\r\n        switch (this.state.mode) {\r\n            case \"C++\":\r\n                lang=\"cpp\";\r\n                break;\r\n            case \"C\":\r\n                lang=\"c\";\r\n                break;\r\n            case \"C++ 14\":\r\n                lang=\"cpp14\";\r\n                break;\r\n            case \"Python 2\":\r\n                lang=\"python2\";\r\n                break;\r\n            case \"Python 3\":\r\n                lang=\"python3\";\r\n                break;\r\n            case \"Java\":\r\n                lang=\"java\";                \r\n                break;\r\n            case \"C#\":\r\n                lang=\"csharp\";\r\n                break;\r\n            case \"NodeJS\":\r\n                lang=\"nodejs\";\r\n                break;\r\n            case \"Ruby\":\r\n                lang=\"ruby\";\r\n                break;\r\n            default:\r\n                lang=this.state.mode;\r\n                break;\r\n        }\r\n        this.showoutput();\r\n        this.setState({output:null});\r\n        const val=this.state.editor.getValue();\r\n        const response = await Axios.post(\"/testAPI\",{\r\n                clientId:\"15c716c984d70a61518fdca295d635c5\",\r\n                clientSecret:\"fe6d26f5a7e2423d719a3d7c675ee208016019f26a2737c10e8647112b06debc\",\r\n                script:val,\r\n                stdin:this.state.inputdata,\r\n                language:lang,\r\n                versionIndex:0\r\n            });\r\n            if(response.data.statusCode===200){\r\n                this.setState({output:response.data}); \r\n            }\r\n            else{\r\n                this.setState({output:\"Some Network Error\"});\r\n            }\r\n    }\r\n\r\n    updateinput=(val)=>{\r\n        this.setState({inputdata:val});\r\n    }\r\n    showoutput=()=>{\r\n        this.setState({isoutput:true});\r\n    }\r\n    setabout=()=>{\r\n        this.setState({about:!this.state.about});\r\n    }\r\n    render(){\r\n        return(\r\n            <div style={{paddingLeft:\"0px\",paddingRight:\"0px\"}}>\r\n                <div className=\"main-wrapper\">\r\n                    <NavBar setabout={this.setabout} logout={this.logout} setsignup={this.setsignup} uid={this.state.uid} owner={this.state.owner} settheme={this.settheme} settab={this.settab} setsize={this.setsize} isopen={this.state.isopen} savefile={this.savefile} toggle={this.toggle} editor={this.state.editor} setdropdown={this.setdropdown} setmode={this.setmode} setunsaved={this.setunsaved} />\r\n                    <Authanticate signup={this.state.signup} setsignup={this.setsignup} authenticate={this.authenticate}/>\r\n                    <About about={this.state.about} setabout={this.setabout}/>\r\n                    <div className=\"gap\"></div>\r\n                    <div className=\"\" style={{marginLeft:\"20px\",marginRight:\"20px\"}}>\r\n                        <Row>\r\n                            <Leftcomponent setsignup={this.setsignup} uid={this.state.uid} setid={this.setid}  output={this.state.output} isoutput={this.state.isoutput} updateinput={this.updateinput} inputdata={this.state.inputdata} Exicutecode={this.Exicutecode} setoldvalue={this.setoldvalue} oldvalue={this.state.oldvalue} setlength={this.setlength} length={this.state.length} setsaved={this.setsaved} editor={this.state.editor} seteditor={this.seteditor} toggle={this.toggle} setmode={this.setmode} setdropdown={this.setdropdown} dropdownvalue={this.state.dropdownvalue} issaved={this.state.issaved} status={this.state.status} setstatus={this.setstatus} path={this.props.match.url} id={this.state.id} updaterecent={this.updaterecent}/>\r\n                            <Rightcomponent recent={this.state.recent} editrecent={this.editrecent}/>\r\n                        </Row>\r\n                    </div>\r\n                    <br></br>\r\n                    <div className=\"container-fluid footer\">\r\n                        <Footer/>\r\n                    </div>\r\n                    \r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}