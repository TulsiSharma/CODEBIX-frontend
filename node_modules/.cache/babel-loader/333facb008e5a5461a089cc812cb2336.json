{"ast":null,"code":"// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);else // Plain browser env\n    mod(CodeMirror);\n})(function (CodeMirror) {\n  CodeMirror.defineExtension(\"addPanel\", function (node, options) {\n    options = options || {};\n    if (!this.state.panels) initPanels(this);\n    var info = this.state.panels;\n    var wrapper = info.wrapper;\n    var cmWrapper = this.getWrapperElement();\n    var replace = options.replace instanceof Panel && !options.replace.cleared;\n\n    if (options.after instanceof Panel && !options.after.cleared) {\n      wrapper.insertBefore(node, options.before.node.nextSibling);\n    } else if (options.before instanceof Panel && !options.before.cleared) {\n      wrapper.insertBefore(node, options.before.node);\n    } else if (replace) {\n      wrapper.insertBefore(node, options.replace.node);\n      options.replace.clear(true);\n    } else if (options.position == \"bottom\") {\n      wrapper.appendChild(node);\n    } else if (options.position == \"before-bottom\") {\n      wrapper.insertBefore(node, cmWrapper.nextSibling);\n    } else if (options.position == \"after-top\") {\n      wrapper.insertBefore(node, cmWrapper);\n    } else {\n      wrapper.insertBefore(node, wrapper.firstChild);\n    }\n\n    var height = options && options.height || node.offsetHeight;\n    var panel = new Panel(this, node, options, height);\n    info.panels.push(panel);\n    this.setSize();\n    if (options.stable && isAtTop(this, node)) this.scrollTo(null, this.getScrollInfo().top + height);\n    return panel;\n  });\n\n  function Panel(cm, node, options, height) {\n    this.cm = cm;\n    this.node = node;\n    this.options = options;\n    this.height = height;\n    this.cleared = false;\n  }\n  /* when skipRemove is true, clear() was called from addPanel().\n   * Thus removePanels() should not be called (issue 5518) */\n\n\n  Panel.prototype.clear = function (skipRemove) {\n    if (this.cleared) return;\n    this.cleared = true;\n    var info = this.cm.state.panels;\n    info.panels.splice(info.panels.indexOf(this), 1);\n    this.cm.setSize();\n    if (this.options.stable && isAtTop(this.cm, this.node)) this.cm.scrollTo(null, this.cm.getScrollInfo().top - this.height);\n    info.wrapper.removeChild(this.node);\n    if (info.panels.length == 0 && !skipRemove) removePanels(this.cm);\n  };\n\n  Panel.prototype.changed = function () {\n    this.height = this.node.getBoundingClientRect().height;\n    this.cm.setSize();\n  };\n\n  function initPanels(cm) {\n    var wrap = cm.getWrapperElement();\n    var style = window.getComputedStyle ? window.getComputedStyle(wrap) : wrap.currentStyle;\n    var height = parseInt(style.height);\n    var info = cm.state.panels = {\n      setHeight: wrap.style.height,\n      panels: [],\n      wrapper: document.createElement(\"div\")\n    };\n    wrap.parentNode.insertBefore(info.wrapper, wrap);\n    var hasFocus = cm.hasFocus();\n    info.wrapper.appendChild(wrap);\n    if (hasFocus) cm.focus();\n    cm._setSize = cm.setSize;\n    if (height != null) cm.setSize = function (width, newHeight) {\n      if (!newHeight) newHeight = info.wrapper.offsetHeight;\n      info.setHeight = newHeight;\n\n      if (typeof newHeight != \"number\") {\n        var px = /^(\\d+\\.?\\d*)px$/.exec(newHeight);\n\n        if (px) {\n          newHeight = Number(px[1]);\n        } else {\n          info.wrapper.style.height = newHeight;\n          newHeight = info.wrapper.offsetHeight;\n        }\n      }\n\n      var editorheight = newHeight - info.panels.map(function (p) {\n        return p.node.getBoundingClientRect().height;\n      }).reduce(function (a, b) {\n        return a + b;\n      }, 0);\n\n      cm._setSize(width, editorheight);\n\n      height = newHeight;\n    };\n  }\n\n  function removePanels(cm) {\n    var info = cm.state.panels;\n    cm.state.panels = null;\n    var wrap = cm.getWrapperElement();\n    info.wrapper.parentNode.replaceChild(wrap, info.wrapper);\n    wrap.style.height = info.setHeight;\n    cm.setSize = cm._setSize;\n    cm.setSize();\n  }\n\n  function isAtTop(cm, dom) {\n    for (var sibling = dom.nextSibling; sibling; sibling = sibling.nextSibling) if (sibling == cm.getWrapperElement()) return true;\n\n    return false;\n  }\n});","map":{"version":3,"sources":["E:/Internship Project/codebix/node_modules/codemirror/addon/display/panel.js"],"names":["mod","exports","module","require","define","amd","CodeMirror","defineExtension","node","options","state","panels","initPanels","info","wrapper","cmWrapper","getWrapperElement","replace","Panel","cleared","after","insertBefore","before","nextSibling","clear","position","appendChild","firstChild","height","offsetHeight","panel","push","setSize","stable","isAtTop","scrollTo","getScrollInfo","top","cm","prototype","skipRemove","splice","indexOf","removeChild","length","removePanels","changed","getBoundingClientRect","wrap","style","window","getComputedStyle","currentStyle","parseInt","setHeight","document","createElement","parentNode","hasFocus","focus","_setSize","width","newHeight","px","exec","Number","editorheight","map","p","reduce","a","b","replaceChild","dom","sibling"],"mappings":"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","sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n\n(function (mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function (CodeMirror) {\n  CodeMirror.defineExtension(\"addPanel\", function (node, options) {\n    options = options || {};\n\n    if (!this.state.panels) initPanels(this);\n\n    var info = this.state.panels;\n    var wrapper = info.wrapper;\n    var cmWrapper = this.getWrapperElement();\n    var replace = options.replace instanceof Panel && !options.replace.cleared;\n\n    if (options.after instanceof Panel && !options.after.cleared) {\n      wrapper.insertBefore(node, options.before.node.nextSibling);\n    } else if (options.before instanceof Panel && !options.before.cleared) {\n      wrapper.insertBefore(node, options.before.node);\n    } else if (replace) {\n      wrapper.insertBefore(node, options.replace.node);\n      options.replace.clear(true);\n    } else if (options.position == \"bottom\") {\n      wrapper.appendChild(node);\n    } else if (options.position == \"before-bottom\") {\n      wrapper.insertBefore(node, cmWrapper.nextSibling);\n    } else if (options.position == \"after-top\") {\n      wrapper.insertBefore(node, cmWrapper);\n    } else {\n      wrapper.insertBefore(node, wrapper.firstChild);\n    }\n\n    var height = (options && options.height) || node.offsetHeight;\n\n    var panel = new Panel(this, node, options, height);\n    info.panels.push(panel);\n\n    this.setSize();\n    if (options.stable && isAtTop(this, node))\n      this.scrollTo(null, this.getScrollInfo().top + height);\n\n    return panel;\n  });\n\n  function Panel(cm, node, options, height) {\n    this.cm = cm;\n    this.node = node;\n    this.options = options;\n    this.height = height;\n    this.cleared = false;\n  }\n\n  /* when skipRemove is true, clear() was called from addPanel().\n   * Thus removePanels() should not be called (issue 5518) */\n  Panel.prototype.clear = function (skipRemove) {\n    if (this.cleared) return;\n    this.cleared = true;\n    var info = this.cm.state.panels;\n    info.panels.splice(info.panels.indexOf(this), 1);\n    this.cm.setSize();\n    if (this.options.stable && isAtTop(this.cm, this.node))\n      this.cm.scrollTo(null, this.cm.getScrollInfo().top - this.height)\n    info.wrapper.removeChild(this.node);\n    if (info.panels.length == 0 && !skipRemove) removePanels(this.cm);\n  };\n\n  Panel.prototype.changed = function () {\n    this.height = this.node.getBoundingClientRect().height;\n    this.cm.setSize();\n  };\n\n  function initPanels(cm) {\n    var wrap = cm.getWrapperElement();\n    var style = window.getComputedStyle ? window.getComputedStyle(wrap) : wrap.currentStyle;\n    var height = parseInt(style.height);\n    var info = cm.state.panels = {\n      setHeight: wrap.style.height,\n      panels: [],\n      wrapper: document.createElement(\"div\")\n    };\n    wrap.parentNode.insertBefore(info.wrapper, wrap);\n    var hasFocus = cm.hasFocus();\n    info.wrapper.appendChild(wrap);\n    if (hasFocus) cm.focus();\n\n    cm._setSize = cm.setSize;\n    if (height != null) cm.setSize = function (width, newHeight) {\n      if (!newHeight) newHeight = info.wrapper.offsetHeight;\n      info.setHeight = newHeight;\n      if (typeof newHeight != \"number\") {\n        var px = /^(\\d+\\.?\\d*)px$/.exec(newHeight);\n        if (px) {\n          newHeight = Number(px[1]);\n        } else {\n          info.wrapper.style.height = newHeight;\n          newHeight = info.wrapper.offsetHeight;\n        }\n      }\n      var editorheight = newHeight - info.panels\n        .map(function (p) { return p.node.getBoundingClientRect().height; })\n        .reduce(function (a, b) { return a + b; }, 0);\n      cm._setSize(width, editorheight);\n      height = newHeight;\n    };\n  }\n\n  function removePanels(cm) {\n    var info = cm.state.panels;\n    cm.state.panels = null;\n\n    var wrap = cm.getWrapperElement();\n    info.wrapper.parentNode.replaceChild(wrap, info.wrapper);\n    wrap.style.height = info.setHeight;\n    cm.setSize = cm._setSize;\n    cm.setSize();\n  }\n\n  function isAtTop(cm, dom) {\n    for (var sibling = dom.nextSibling; sibling; sibling = sibling.nextSibling)\n      if (sibling == cm.getWrapperElement()) return true\n    return false\n  }\n});\n"]},"metadata":{},"sourceType":"script"}